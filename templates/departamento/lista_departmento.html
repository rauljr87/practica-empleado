<!-- herencia de base.html -->
{% extends 'base.html' %}


<!-- título -->
{% block title %}
    Lista Departamentos
{% endblock title %}


<!-- body -->
{% block content %}
    
    <!-- incluir cabecera -->
    {% include 'includes/header.html' %}

    <div class="grid-container">
        <div class="grid-x">
            <h1 class="cell">Lista Departamentos</h1>

            <div class="cell">
                <table>
                    <tbody>
                        
                        <!-- variable departamentos declarada en DepartamentoListView, reemplaza a object_list -->
                        {% for departamento in departamentos %}
                        <tr>
                            <td>{{ departamento.name }}</td>
                            <td>{{ departamento.short_name }}</td>
                            <td>
                                <!-- url para filtrar empleados por su departamento -->
                                <!-- departamento.short_name, es el kwarg por url que al método get_queryset de la class ListByAreaEmpleado -->
                                <a class="button primary" style="border-radius: 8px" href="{% url 'persona_app:list_by_area' departamento.short_name %}">Ver empleado</a>
                            </td>
                        </tr>
                        {% endfor %}

                    </tbody>
                </table>
            </div>
        </div>
    </div>

{% endblock content %}
    